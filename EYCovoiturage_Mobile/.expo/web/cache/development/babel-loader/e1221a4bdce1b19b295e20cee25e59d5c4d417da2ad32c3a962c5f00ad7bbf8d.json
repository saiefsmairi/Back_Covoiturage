{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nvar API_URL = '/users/';\nvar register = function () {\n  var _ref = _asyncToGenerator(function* (userData) {\n    var response = yield axios.post(\"https://localhost:7116/api/Auth/register\", userData);\n    return response.data;\n  });\n  return function register(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar login = function () {\n  var _ref2 = _asyncToGenerator(function* (userData) {\n    var response = yield axios.post(\"http://localhost:5000/users/\" + 'login', userData);\n    if (response.data) {\n      localStorage.setItem('user', JSON.stringify(response.data));\n    }\n    return response.data;\n  });\n  return function login(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar logout = function logout() {\n  localStorage.removeItem('user');\n};\nvar getMe = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    var userlogged = JSON.parse(localStorage.getItem(\"user\"));\n    var AuthStr = 'Bearer '.concat(userlogged.token);\n    var response = yield axios.get('http://localhost:5000/users/me', {\n      headers: {\n        Authorization: AuthStr\n      }\n    });\n    return response.data;\n  });\n  return function getMe() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar authService = {\n  register: register,\n  logout: logout,\n  login: login,\n  getMe: getMe\n};\nexport default authService;","map":{"version":3,"names":["axios","API_URL","register","_ref","_asyncToGenerator","userData","response","post","data","_x","apply","arguments","login","_ref2","localStorage","setItem","JSON","stringify","_x2","logout","removeItem","getMe","_ref3","userlogged","parse","getItem","AuthStr","concat","token","get","headers","Authorization","authService"],"sources":["C:/Users/saief/OneDrive/Desktop/front/EYCovoiturage/services/authService.js"],"sourcesContent":["import axios from 'axios'\r\nconst API_URL = '/users/'\r\n\r\n// Register user\r\nconst register = async (userData) => {\r\n  const response = await axios.post(\"https://localhost:7116/api/Auth/register\", userData)\r\n\r\n  /*  if (response.data) {\r\n     localStorage.setItem('user', JSON.stringify(response.data))\r\n   }\r\n  */\r\n  return response.data\r\n}\r\n\r\n// Login user\r\nconst login = async (userData) => {\r\n  const response = await axios.post(\"http://localhost:5000/users/\" + 'login', userData)\r\n\r\n  if (response.data) {\r\n    localStorage.setItem('user', JSON.stringify(response.data))\r\n  }\r\n\r\n  return response.data\r\n}\r\n\r\n// Logout user\r\nconst logout = () => {\r\n  localStorage.removeItem('user')\r\n}\r\n\r\n\r\n// getme user\r\nconst getMe = async () => {\r\n  const userlogged = JSON.parse(localStorage.getItem(\"user\"))\r\n  const AuthStr = 'Bearer '.concat(userlogged.token);\r\n  const response = await axios.get('http://localhost:5000/users/me', { headers: { Authorization: AuthStr } });\r\n  return response.data\r\n}\r\n\r\n\r\nconst authService = {\r\n  register,\r\n  logout,\r\n  login,\r\n  getMe\r\n}\r\n\r\nexport default authService"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,IAAMC,OAAO,GAAG,SAAS;AAGzB,IAAMC,QAAQ;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,QAAQ,EAAK;IACnC,IAAMC,QAAQ,SAASN,KAAK,CAACO,IAAI,CAAC,0CAA0C,EAAEF,QAAQ,CAAC;IAMvF,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC;EAAA,gBARKN,QAAQA,CAAAO,EAAA;IAAA,OAAAN,IAAA,CAAAO,KAAA,OAAAC,SAAA;EAAA;AAAA,GAQb;AAGD,IAAMC,KAAK;EAAA,IAAAC,KAAA,GAAAT,iBAAA,CAAG,WAAOC,QAAQ,EAAK;IAChC,IAAMC,QAAQ,SAASN,KAAK,CAACO,IAAI,CAAC,8BAA8B,GAAG,OAAO,EAAEF,QAAQ,CAAC;IAErF,IAAIC,QAAQ,CAACE,IAAI,EAAE;MACjBM,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACX,QAAQ,CAACE,IAAI,CAAC,CAAC;IAC7D;IAEA,OAAOF,QAAQ,CAACE,IAAI;EACtB,CAAC;EAAA,gBARKI,KAAKA,CAAAM,GAAA;IAAA,OAAAL,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAQV;AAGD,IAAMQ,MAAM,GAAG,SAATA,MAAMA,CAAA,EAAS;EACnBL,YAAY,CAACM,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;AAID,IAAMC,KAAK;EAAA,IAAAC,KAAA,GAAAlB,iBAAA,CAAG,aAAY;IACxB,IAAMmB,UAAU,GAAGP,IAAI,CAACQ,KAAK,CAACV,YAAY,CAACW,OAAO,CAAC,MAAM,CAAC,CAAC;IAC3D,IAAMC,OAAO,GAAG,SAAS,CAACC,MAAM,CAACJ,UAAU,CAACK,KAAK,CAAC;IAClD,IAAMtB,QAAQ,SAASN,KAAK,CAAC6B,GAAG,CAAC,gCAAgC,EAAE;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAEL;MAAQ;IAAE,CAAC,CAAC;IAC3G,OAAOpB,QAAQ,CAACE,IAAI;EACtB,CAAC;EAAA,gBALKa,KAAKA,CAAA;IAAA,OAAAC,KAAA,CAAAZ,KAAA,OAAAC,SAAA;EAAA;AAAA,GAKV;AAGD,IAAMqB,WAAW,GAAG;EAClB9B,QAAQ,EAARA,QAAQ;EACRiB,MAAM,EAANA,MAAM;EACNP,KAAK,EAALA,KAAK;EACLS,KAAK,EAALA;AACF,CAAC;AAED,eAAeW,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}